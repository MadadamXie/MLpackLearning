%------------------------------
%commentpackage 
%------------------------------
\usepackage{lastpage}
\usepackage{graphicx}
\setlength\parindent{0pt}
\usepackage[most]{tcolorbox}
\usepackage{booktabs}
\usepackage{etoolbox}

%------------------------------
%font settings 
%------------------------------
\usepackage[utf8]{inputenc} %required for inputting international characters,
\usepackage[T1]{fontenc} % output font encoding for international characters,
\usepackage[sfdefault,light]{roboto} %use roboto font

%------------------------------
%page setting 
%------------------------------
\usepackage{geometry}

\geometry{
  paper=a4paper,                % Change to letterpaper for US letter,        
  top=3cm,                      % Top margin,
  bottom=3cm,                   % Bottom margin,
  left=2.5cm,                   % Left margin, 
  right=2.5cm,                  % Right margin,
  headheight=14pt,              % Header height,
  footskip=1.4cm,               % Space from the bottom margin to baseline of the footer,
  headsep=1.2cm,                % Space from the top margin to the baseline of the header,
  %showframe,                   % Ucomment to show how the type block is set on the page,
}

%------------------------------
%header and footer
%------------------------------
%packages and parameters;
 \usepackage{fancyhdr}
 \pagestyle{fancy}

 % left header; 
 % output the instructor in brackets if one was set
 \lhead{\small\assignmentClass\ifdef{\assignmentClassInstructor}{\ (\assignmentClassInstructor):}{}\ \assignmentTitle} 
 \chead{}

 % right header; 
 % output the author name if one was set, otherwise the due date if that was set
 \rhead{\small\ifdef{\assignmentAuthorName}{\assignmentAuthorName}{\ifdef{\assignmentDueDate}{Due\ \assignmentDueDate}{}}} 

 % footer settings
 \lfoot{} % Left footer
 \cfoot{\small Page\ \thepage\ of\ \pageref{LastPage}} % Centre footer
 \rfoot{} % Right footer
 \renewcommand\headrulewidth{0.5pt} % Thickness of the header rule

%------------------------------
%modify section styles 
%------------------------------
\usepackage{titlesec} % required for modifying sections

%-----------------
%section settings
\titleformat
{\section}
[block]
{\Huge\bfseries}
{\assignmentQuestionName \thesection:}
{6pt}
{}

\titlespacing{\section}{0pt}{1\baselineskip}{2\baselineskip} % spacing around section titles, the order is: left, before and after

%-----------------
% subsection

\titleformat
{\subsection} % section type being modified
[block] % shape type, can be: hang, block, display, runin, leftmargin, rightmargin, drop, wrap, frame
{\huge\bfseries} % format of the whole section
{\thesubsection} % format of the section label
{4pt} % space between the title and label
{} % code before the label

\titlespacing{\subsection}{0pt}{0.5\baselineskip}{0.5\baselineskip} % spacing around section titles, the order is: left, before and after

%-----------------
% subsubsection

\titleformat
{\subsubsection} % section type being modified
[block] % shape type, can be: hang, block, display, runin, leftmargin, rightmargin, drop, wrap, frame
{\LARGE\bfseries} % format of the whole section
{\thesubsubsection} % format of the section label
{3pt} % space between the title and label
{} % code before the label

\titlespacing{\subsubsection}{0pt}{0.5\baselineskip}{0.5\baselineskip} % spacing around section titles, the order is: left, before and after



%------------------------------
%Title  
%------------------------------
\author{\textbf{\textit{\huge \assignmentAuthorName}}}
\date{}
\title{
  \thispagestyle{empty}
  \vspace{0.1\textheight}
  \textbf{\Huge\assignmentClass:\ \assignmentTitle}\\[-3pt]
  \ifdef{\assignmentDueDate}{{\large Due\ on\ \assignmentDueDate}\\}{}
  \ifdef{\assignmentClassInstructor}{{\large \textit{\assignmentClassInstructor}}}{}
  \vspace{0.32\textheight}
}

%------------------------------
%lstlisting setting 
%------------------------------
%\usepackage[T1]{fontenc}
%\usepackage{textcomp}
\usepackage{listings}
% 在LaTex中添加代码
\usepackage{color}
 
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.8,0.8,0.8}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstset{
  backgroundcolor=\color{backcolour},
  commentstyle=\color{codegreen},
  %keywordstyle=\color{magenta},
  stringstyle=\color{codepurple},
  basicstyle=\sffamily\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  frame=single,
  numbers=left,
  numbersep=5pt,
  numberstyle=\tiny,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2
}

%------------------------------
%newcommand and environment
%------------------------------
\newcommand{\answer}[1]{
  \begin{tcolorbox}[breakable,enhanced,colback=codegray]
    #1
  \end{tcolorbox}
}

\newenvironment{question}{
   \vspace{0.5\baselineskip} %whitespace before the question
   \section{} %blank section title (e.g. just Question 2)
   % set the left footer to state the question continues on the next page, this is reset to nothing 
   \lfoot{\small\itshape\assignmentQuestionName~\thesection~continued on next page\ldots} 
 }{
   \lfoot{} % reset the left footer to nothing if the current question does not continue on the next page
}

%------------------------------
%Tikz & PGF Setting
%------------------------------
\usepackage{tikz,pgfplots}
\usepackage{subcaption}

\pgfplotsset{
  standard/.style={
   axis x line=middle,
   axis y line=middle,
   enlarge x limits=0.15,
   enlarge y limits=0.15,
   %every axis x label/.style={at={(current axis.right of origin)},anchor=north west},
   %every axis y label/.style={at={(current axis.above origin)},anchor=east},
   every axis plot post/.style={mark options={fill=black}}
  }
}


%------------------------------
%Equation Order Setting to prefix the equation order.
%------------------------------
\makeatletter
\@addtoreset{equation}{section}
\makeatother
\renewcommand{\theequation}{\arabic{section}.\arabic{equation}} 

%------------------------------
%Chinese Environment 
%------------------------------
\usepackage{CJK}
\newcommand{\chinesebox}[1]{
  \begin{tcolorbox}[breakable,enhanced,colback=codegray]
   \begin{CJK*}{UTF8}{gbsn}
      #1
   \end{CJK*} 
  \end{tcolorbox}
}

\newcommand{\chinese}[1]{
 \begin{CJK*}{UTF8}{gbsn}
   #1
 \end{CJK*}
}


%------------------------------
%Multirows to Done things: 
%------------------------------
\usepackage{multirow}
\renewcommand{\multirowsetup}{\centering}


%------------------------------
%Ams math definition
%------------------------------
\usepackage{amsmath}


%------------------------------
%Frame definitions
%------------------------------
\usepackage{tcolorbox} 


%------------------------------
%Table setting
%------------------------------
\usepackage{array}
\renewcommand\arraystretch{1}



